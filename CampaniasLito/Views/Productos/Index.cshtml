@model IEnumerable<CampaniasLito.Models.Producto>

@{
    ViewBag.Title = "Artículos";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Artículos</title>

    <link href="~/Content/css/Generales.css" rel="stylesheet" />
    <link href="~/Content/css/Estilos.css" rel="stylesheet" />


    <style>
        .botonF1 {
            width: 60px;
            height: 60px;
            border-radius: 100%;
            background: #F44336;
            right: 0;
            bottom: 0;
            position: fixed;
            margin-right: 36px;
            margin-bottom: 1%;
            border: none;
            outline: none;
            color: #FFF;
            font-size: 46px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
            transition: .3s;
            z-index: 1;
            text-align: center;
        }

        span {
            transition: .5s;
        }

        .botonF1:hover span {
            transform: rotate(360deg);
        }

        .botonF1:active {
            transform: scale(1.1);
        }

        .btnFlot {
            width: 40px;
            height: 40px;
            border-radius: 100%;
            border: none;
            color: #FFF;
            box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
            font-size: 28px;
            outline: none;
            position: absolute;
            right: 0;
            bottom: 0;
            margin-right: 26px;
            transform: scale(0);
        }



        .botonF2 {
            width: 40px;
            height: 40px;
            border-radius: 100%;
            background: #2196F3;
            right: -70px;
            top: -45px;
            bottom: 0;
            position: absolute;
            /*margin-right: -15%;
            margin-bottom: 2%;*/
            border: none;
            outline: none;
            color: #FFF;
            font-size: 30px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
            transition: .3s;
            z-index: 1;
            text-align: center;
        }

        .botonF2:hover span {
            transform: rotate(360deg);
        }

        .botonF2:active {
            transform: scale(1.1);
        }

        .botonF3 {
            background: #673AB7;
            margin-bottom: 130px;
            transition: 0.7s;
        }

        .botonF4 {
            background: #009688;
            margin-bottom: 175px;
            transition: 0.9s;
        }

        .botonF5 {
            background: #FF5722;
            margin-bottom: 220px;
            transition: 0.99s;
        }

        .animacionVer {
            transform: scale(1);
        }
    </style>

</head>
<body>
    <div class="panel" style="position: fixed; margin-right: 2%">
        <div class="panel-heading table-responsive" style="background-color: #DF2530">

            <a href="@Url.Action("Create", "Productos", new { })" class="botonF1 dialog-window-delete">
                <i class="fas fa-plus-circle"></i>
            </a>

            <table class="" style="width:100%" id="dataTable" cellspacing="0">
                <tr>
                    <td class=" col-xs-4">
                        <h2 class="" style="margin-left:5px; color: white"><i id="foto" class="fa fa-barcode "></i> Artículos</h2>
                    </td>
                    @*@using (Html.BeginForm("Index", "Productos", FormMethod.Get))
                {
                    <td class="col-xs-7">
                        <div id="botones" class="input-group" style="display:flex; float:right">
                            <input class="input-group-addon" type="text" name="articulo" id="articulo" value="@Session["articuloFiltro"].ToString()" style="color:#CE5432; text-transform:uppercase; border-radius:10px 0 0 10px; text-align:center; width:250px" />
                            <button type="submit" class="fas fa-search btn btn-pilares" style="border-radius:0 10px 10px 0; text-align: right; font-size: 17px"></button>
                        </div>
                    </td>
                }
                <td style="text-align:right" class=" col-xs-1">
                    <div id="botones" class="input-group">
                        @Html.ActionLink(" ", "Index", "CategoriaArticulos", new { }, new { @class = "fas fa-plus-circle btn btn-pilares", style = "border-radius:10px 0 0 10px; font-size: 17px" })
                        <span class="input-group-addon" style="border-radius:0 10px 10px 0; font-size: 17px">CATEGORIAS</span>
                    </div>
                </td>*@
                </tr>
            </table>
        </div>
        <div class="panel-body">
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover" style="width:100%" id="dataTable" cellspacing="0">
                    <thead style="font-size:100%; font-weight:bold; color:#CE5432">
                        <tr>
                            <th align="center" style="        width: 5%
">
                                ID
                            </th>
                            <th align="center" style="width: 35%">
                                @Html.DisplayNameFor(model => model.Descripcion)
                            </th>
                            <th align="center" style="width: 5%">
                                Código
                                @*@Html.DisplayNameFor(model => model.CodigoBarras)*@
                            </th>
                            <th align="center" style="width: 5%">
                                @Html.DisplayNameFor(model => model.Precio)
                            </th>
                            <th align="center" style="width: 5%">
                                @Html.DisplayNameFor(model => model.Categoria.Descripcion)
                            </th>
                            <th align="center" style="width: 5%">
                                @Html.DisplayNameFor(model => model.Impuesto.Descripcion)
                            </th>
                            <th align="center" style="width: 10%">
                                @Html.DisplayNameFor(model => model.Imagen)
                            </th>
                            <th align="center" style="width: 25%">
                                @Html.DisplayNameFor(model => model.Comentarios)
                            </th>
                            @*<th align="center" style="width: 5%">
                                <div class="input-group">
                                    <a id="botones" href="@Url.Action("Create", "Productos", new { })" class="responsivoUsuarioLabelIndexProv btn btn-pilares dialog-window-delete">
                                        <i class="fas fa-plus-circle"></i>
                                    </a>
                                </div>
                            </th>*@









                        </tr>
                    </thead>
                </table>
            </div>
            <div id="unId70" class="table-responsive">
                <table class="table table-striped table-bordered table-hover" style="width:100%" id="dataTable" cellspacing="0">
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr style="font-size:12px">
                                <td style="width: 5%">
                                    <a href="@Url.Action("Edit", "Productos", new { id = item.ProductoId})" class="dialog-window" style="text-decoration: none; list-style: none; color: white">
                                        @Html.DisplayFor(modelItem => item.ProductoId)
                                    </a>
                                </td>
                                <td style="width: 35%">
                                    <a href="@Url.Action("Edit", "Productos", new { id = item.ProductoId})" class="dialog-window" style="text-decoration: none; list-style: none; color: white">
                                        @Html.DisplayFor(modelItem => item.Descripcion)
                                    </a>
                                </td>
                                <td style="width: 5%">
                                    <a href="@Url.Action("Edit", "Productos", new { id = item.ProductoId})" class="dialog-window" style="text-decoration: none; list-style: none; color: white">
                                        @Html.DisplayFor(modelItem => item.CodigoBarras)
                                    </a>
                                </td>
                                <td style="width: 5%" id="foto" align="center">
                                    <a href="@Url.Action("Edit", "Productos", new { id = item.ProductoId})" class="dialog-window" style="text-decoration: none; list-style: none; color: white">
                                        @Html.DisplayFor(modelItem => item.Precio)
                                    </a>
                                </td>
                                <td style="width: 5%" id="foto" align="center">
                                    <a href="@Url.Action("Edit", "Productos", new { id = item.ProductoId})" class="dialog-window" style="text-decoration: none; list-style: none; color: white">
                                        @Html.DisplayFor(modelItem => item.Categoria.Descripcion)
                                    </a>
                                </td>
                                <td style="width: 5%" id="foto" align="center">
                                    <a href="@Url.Action("Edit", "Productos", new { id = item.ProductoId})" class="dialog-window" style="text-decoration: none; list-style: none; color: white">
                                        @Html.DisplayFor(modelItem => item.Impuesto.Descripcion)
                                    </a>
                                </td>
                                <td style="width: 10%" id="foto" align="center">
                                    <a href="@Url.Action("Edit", "Productos", new { id = item.ProductoId})" class="dialog-window" style="text-decoration: none; list-style: none; color: white">
                                        @if (!string.IsNullOrEmpty(item.Imagen))
                                        {
                                            <img src="@Url.Content(item.Imagen)" alt="Image" style="width:150px;height:150px;" />
                                        }
                                        else
                                        {
                                            <img src="@Url.Content("~/Content/Productos/Productos.png")" alt="Image" style="width:150px; height:150px;" />
                                        }
                                    </a>
                                </td>
                                <td style="width: 25%" id="foto" align="center">
                                    <a href="@Url.Action("Edit", "Productos", new { id = item.ProductoId})" class="dialog-window" style="text-decoration: none; list-style: none; color: white">
                                        @Html.DisplayFor(modelItem => item.Comentarios)
                                    </a>
                                </td>
                                <td style="width: 5%" align="right">
                                    <a id="botones" href="@Url.Action("Delete", "Productos", new { id = item.ProductoId })" class="btn btn-danger dialog-window-delete">
                                        <i class="fas fa-trash"></i>
                                    </a>
                                </td>

                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            @*Página: @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) de @Model.PageCount*@
            @*<div style="font-size:12px; margin-bottom: -30px; margin-top: -10px">
                    @Html.PagedListPager(Model, page => Url.Action("Index", new
                    {
                        page,
                        sortOrder =
                        ViewBag.CurrentSort,
                        currentFilter = ViewBag.CurrentFilter
                    }))
                </div>*@
        </div>
    </div>

    <div class="modal fade" data-keyboard="false" id="Delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="false" style="background-color: rgba(0, 0, 0, 0.8); padding-top: 5%">
        <div class="modal-dialog modal-dialog-centered mx-auto" id="mdialTamanio">
            <div class="modal-content">
                <div class="te">Please wait...</div>
            </div>
        </div>
    </div>

    <div class="modal fade" data-keyboard="false" id="agregarcategoria" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="false" style="background-color: rgba(0, 0, 0, 0.8)">
        <div class="modal-dialog modal-dialog-centered mx-auto" id="mdialTamanio">
            <div class="modal-content">
                <div class="te">Please wait...</div>
            </div>
        </div>
    </div>

</body>
</html>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <script src="~/Scripts/jquery-barcode.min.js"></script>
    <script src="~/Content/js/sweetalert.js" type="text/javascript"></script>
    <script src="~/Scripts/sweetalert.min.js" type="text/javascript"></script>

    <script type="text/javascript">

        //$(document).on('click', '.CreateArticulo', function () {
        //    $('#ModalCreateArticulo').modal('show');
        //});

        //$(document).on('click', '#CreateCategoria', function () {
        //    $('#ModalAgregarCategorias').modal('show');
        //});

        $(document).ready(function () {
            $("body").on("click", "a.dialog-window-delete", null, function (e) {
                e.preventDefault();
                var $link = $(this);
                var url = $(this).attr('href');
                if (url.indexOf('#') == 0) {
                    $('#Delete').modal('show');
                }
                else {
                    $.get(url, function (data) {
                        $('#Delete .te').html(data);
                        $('#Delete').modal();
                    }).success(function () { $('input:text:visible:first').focus(); });

                }
            });
        });

        $(document).ready(function () {
            $("body").on("click", "a.dialog-window-categoria", null, function (e) {
                e.preventDefault();
                var $link = $(this);
                var url = $(this).attr('href');
                if (url.indexOf('#') == 0) {
                    $('#agregarcategoria').modal('show');
                }
                else {
                    $.get(url, function (data) {
                        $('#agregarcategoria .te').html(data);
                        $('#agregarcategoria').modal();
                    }).success(function () { $('input:text:visible:first').focus(); });

                }
            });
        });

    </script>

    <script>
        window.onload = function () {
            var contenedor = document.getElementById('contenedor_carga');
            contenedor.style.visibility = 'hidden';
            contenedor.style.opacity = '0';
        }
    </script>

    <script>
        $(function () {
            var value = $("#CodigoBarras").val();
            var btype = 'ean13'
            $("#barcode").html("").show().barcode(value, btype);
        });
    </script>
    <script>
        $('.botonF1').hover(function () {
            $('.btnFlot').addClass('animacionVer');
        })
        $('.contenedor').mouseleave(function () {
            $('.btnFlot').removeClass('animacionVer');
        })
    </script>

}